<ion-content>
  <div class="background">
    <form (ngSubmit)="onLogin(loginForm)" #loginForm="ngForm" novalidate>
      <ion-grid>
        <ion-row class="row" style="margin-top:80px">
          <ion-segment mode="md" name="tab" [(ngModel)]="tab" style="background-color: rgba(225,225,225,0);">
            <ion-segment-button value="tab1">
              <ion-label style="font-size: 18px;">验证码登录</ion-label>
            </ion-segment-button>
            <ion-segment-button value="tab2">
              <ion-label style="font-size: 18px;">密码登录</ion-label>
            </ion-segment-button>
          </ion-segment>
        </ion-row>
        <div [ngSwitch]="tab">
          <div *ngSwitchCase="'tab1'">
            <ion-row style="margin-top:20px;"></ion-row>
            <ion-row class="row" style="margin-top:10px">
              <ion-icon name="mail-outline"></ion-icon>
              <ion-label>&nbsp;&nbsp;邮箱</ion-label>
            </ion-row>
            <ion-row class="row">
              <ion-input name="email" type="text" class="input-user" placeholder="请输入邮箱" required
              pattern="^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$" [(ngModel)]="login.email" #email="ngModel">
              </ion-input>
            </ion-row>
            <div class="signup_warn">
              <ion-text text-left color="danger" *ngIf="email.invalid && email.touched">
                <p class="warn" [hidden]="!email.errors?.required" padding-start>请输入邮箱</p>
                <p class="warn" [hidden]="!email.errors?.pattern" padding-start>请输入正确的邮箱</p>
              </ion-text>
            </div>
            <ion-row class="row">
              <ion-button color="secondary" class="btn-verify" type="submit" [disabled]="loginForm.invalid"> 获取验证码 </ion-button>
            </ion-row>
          </div>
          <div *ngSwitchCase="'tab2'">
            <ion-row class="row" style="margin-top:30px">
              <ion-icon name="mail-outline"></ion-icon>
              <ion-label>&nbsp;&nbsp;邮箱</ion-label>
            </ion-row>
            <ion-row class="row">
              <ion-input name="email" type="tel" class="input-user" placeholder="请输入邮箱" required [(ngModel)]="login.email" #email=ngModel>
              </ion-input>
            </ion-row>
            <div class="signup_warn">
              <ion-text text-left color="danger" *ngIf="email.invalid && email.touched">
                <p class="warn" [hidden]="!email.errors?.required" padding-start>请输入邮箱/手机号/用户名</p>
                <!-- <p class="warn" [hidden]="!email.errors?.pattern" padding-start>请输入正确的邮箱</p> -->
              </ion-text>
            </div>
            <ion-row class="row">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-label>&nbsp;&nbsp;密码</ion-label>
            </ion-row>
            <ion-row class="row">
              <ion-input name="password" type="password" class="input-user" placeholder="请输入密码"
               [(ngModel)]="login.password" #password=ngModel></ion-input>
            </ion-row>
            <!-- <div class="signup_warn">
              <ion-text text-left color="danger" *ngIf="password.invalid && password.touched">
                <p class="warn" [hidden]="!password.errors?.required" padding-start>请输入密码</p>
                <p class="warn" [hidden]="!password.errors?.pattern" padding-start>6至16位，由数字、英文、符号三种字符类型构成，至少包含两种类型字符</p>
              </ion-text>
            </div> -->
            <ion-row class="row">
              <ion-button color="secondary" type="submit" class="btn btn-login" [disabled]="loginForm.invalid"> 登录 </ion-button>
            </ion-row>
            <ion-row class="row" style="display: block;text-align: center;">
              <ion-label color="secondary" [routerLink]="['/find-by-email']">忘记密码？</ion-label>
            </ion-row>
          </div>


        </div>
        <ion-row class="row" style="display: block;text-align: center;">
          <ion-label color="secondary" [routerLink]="['/register']">注册到云账号</ion-label>
        </ion-row>
        <!-- <ion-row class="row">
          <ion-col></ion-col>
          <ion-col></ion-col>
          <ion-col (click)="loginByQQ()"><img style="width:80%" src="../../../../assets/icon/QQ.png"></ion-col>
          <ion-col></ion-col>
          <ion-col></ion-col>
        </ion-row> -->
      </ion-grid>
    </form>
  </div>

</ion-content>